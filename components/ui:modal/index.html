<!DOCTYPE html>
<script type="text/javascript" src="/vendor/shims.js"></script>
<script type="text/javascript" src="/index.coffee"></script>
<script type="text/javascript" src="/vendor/style-html.js"></script>
<link rel="stylesheet" type="text/css" href="/themes/flat/theme.css">

<script type="text/javascript" src="../ui:button/component.coffee"></script>
<link rel="stylesheet" href="../ui:button/style.css">

<script type="text/javascript" src="component.coffee"></script>
<link rel="stylesheet" href="style.css">

<style type="text/css">
  ui\:modal > * {
    padding: 20px;
    text-align: center;
  }
  ui\:modal h1{
    margin: 0;
    margin-bottom: 20px;
  }
</style>

<div class="container">
  <h1>UI:Modal</h1>
  <p>Simple modal dialog.</p>
  <ui:button type="info">Open Modal</ui:button>
  <h2>Markup</h2>
  <p>Any immediate children is positioned center via text-align and inline-block, this allows us to create a modal dialog with only CSS.</p>
  <ui:modal>
    <div>
      <h1>Modal</h1><p>This is a modal dialog.</p>
      <ui:button type="danger">Close Modal</ui:button>
    </div>
  </ui:modal>
  <ui:markup></ui:markup>
  <h2>API</h2>
  <dl>
    <dt>~ toggle()</dt>
    <dd>Toggle open / closed state of the modal (toggles attribute "open")</dd>
  </dl>
</div>
<script type="text/javascript">

  Array.prototype.slice.call(document.querySelectorAll('ui\\:modal')).forEach( function(select){
    markup = select.nextElementSibling
    markup.textContent = html_beautify(select.outerHTML,{indent_size: 1, indent_char: '\t'})
    select.addEventListener('change',function(e){
      console.log(select, "Change: "+select.value)
    })
  })

  modal = document.querySelector('ui\\:modal')
  document.addEventListener('click',function(e){
    if(e.target.tagName === 'UI:BUTTON')
      modal.toggle()
  })

</script>