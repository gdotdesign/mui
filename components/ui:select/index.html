<!DOCTYPE html>
<script type="text/javascript" src="/vendor/shims.js"></script>
<script type="text/javascript" src="/index.coffee"></script>
<script type="text/javascript" src="/vendor/style-html.js"></script>
<link rel="stylesheet" type="text/css" href="/themes/flat/theme.css">

<script type="text/javascript" src="../ui:button/component.coffee"></script>
<link rel="stylesheet" href="../ui:button/style.css">
<script type="text/javascript" src="../ui:dropdown/component.coffee"></script>
<link rel="stylesheet" href="../ui:dropdown/style.css">

<script type="text/javascript" src="component.coffee"></script>
<link rel="stylesheet" href="style.css">

<div class="container">
  <h1>UI:Select</h1>

  <p>Default select</p>
  <ui:select name="select_1">
    <ui:label></ui:label>
    <ui:dropdown>
      <ui:option value='option_1'>Option 1</ui:option>
      <ui:option value='option_2'>Option 2</ui:option>
      <ui:option value='option_3'>Option 3</ui:option>
    </ui:dropdown>
  </ui:select>

  <p>Selected Option</p>
  <ui:select name="select_2">
    <ui:label></ui:label>
    <ui:dropdown>
      <ui:option value='option_1'>Option 1</ui:option>
      <ui:option value='option_2' selected="true">Option 2</ui:option>
      <ui:option value='option_3'>Option 3</ui:option>
    </ui:dropdown>
  </ui:select>

  <p>Disabled</p>
  <ui:select name="select_3" disabled="true">
    <ui:label></ui:label>
    <ui:dropdown>
      <ui:option value='option_1'>Option 1</ui:option>
      <ui:option value='option_2' selected="true">Option 2</ui:option>
      <ui:option value='option_3'>Option 3</ui:option>
    </ui:dropdown>
  </ui:select>

  <p>Dynamic</p>
  <ui:select name="select_4">
    <ui:label></ui:label>
    <ui:dropdown>
      <ui:option value='option_1'>Option 1</ui:option>
      <ui:option value='option_2' selected="true">Option 2</ui:option>
      <ui:option value='option_3'>Option 3</ui:option>
    </ui:dropdown>
  </ui:select>
  <br><br>
  <ui:button type="info">Add Option</ui:button>

  <h2>Markdown</h2>
  <ui:markup></ui:markup>
  <h2>API</h2>
  <dl>
    <dt>@value</dt>
    <dd>Get the current value of the component (selected options value)</dd>
    <dt>@selectedOption</dt>
    <dd>Get the selected option</dd>
    <dt>~ selectDefault()</dt>
    <dd>
      Select option by the default algorithm:
      <ol>
        <li>First option element with selected attribute</li>
        <li>First option element</li>
      </ol>
    </dd>
    <dt>~ select(value=ui:option|string)</dt>
    <dd>Select by option value / text or by ui:option element directly</dd>
    <dt>Ã— change</dt>
    <dd>Fires every time the selected option changes</dd>
  </ul>
</div>


<script type="text/javascript">

  submit = document.querySelector('ui\\:button')
  select4 = document.querySelector('[name=select_4] ui\\:dropdown')
  submit.addEventListener('click',function(){
    op = document.createElement('ui:option')
    op.textContent = "Option..."
    select4.appendChild(op)
  })

  select = document.querySelector('[name=select_2]')
  markup = document.querySelector('ui\\:markup')
  markup.textContent = html_beautify(select.outerHTML,{indent_size: 1, indent_char: '\t'})

</script>